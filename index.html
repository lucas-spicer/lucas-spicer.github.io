<main class="main-content">
    <section id="work" class="page-section active-section">
        <div class="project-grid">
            <article class="project-item" onclick="showSection('watermelon')">
                <div class="image-container"><img src="./assets/images/watermelon/watermelon-3.png" alt="Watermelon"></div>
                <div class="project-info"><span class="title">Watermelon</span><span class="category">Rebrand</span></div>
            </article>
            <article class="project-item" onclick="showSection('calico')">
                <div class="image-container"><img src="./assets/images/calico/calico-4.png" alt="Calico"></div>
                <div class="project-info"><span class="title">Calico</span><span class="category">Creation</span></div>
            </article>
            <article class="project-item" onclick="showSection('canvas')">
                <div class="image-container"><img src="./assets/images/canvas/canvas-1.png" alt="Canvas"></div>
                <div class="project-info"><span class="title">Canvas</span><span class="category">Software</span></div>
            </article>
            <article class="project-item" onclick="showSection('design')">
                <div class="image-container"><img src="./assets/images/design/design-1.png" alt="Design"></div>
                <div class="project-info"><span class="title">Design</span><span class="category">Ad-Hoc</span></div>
            </article>
            <article class="project-item" onclick="showSection('board')">
                <div class="image-container"><img src="./assets/images/inspiration/inspiration-1.png" alt="Board"></div>
                <div class="project-info"><span class="title">Board</span><span class="category">Curation</span></div>
            </article>
        </div>
    </section>

    <section id="watermelon" class="page-section">
        <div class="project-detail-container">
            <aside class="detail-sidebar">
                <h1 class="serif-italic">Watermelon</h1>
                <p class="category">Rebrand</p>
                <div class="detail-description">
                    <p class="description-lead">Brand redesign and website build.</p>
                    <p>I led the complete brand overhaul for Watermelon, redesigning their entire visual identity. My work included creating a new website, logos, and a full suite of templates.</p>
                </div>
                <div class="detail-specs">
                    <div class="spec-item"><span>Role</span><span>Creative Lead</span></div>
                    <div class="spec-item"><span>Skills</span><span>HTML, CSS, Figma, Direction</span></div>
                    <div class="spec-item"><span>More</span><span><a href="https://www.watermelonresearch.com" target="_blank">Visit Site</a></span></div>
                </div>
                <div class="detail-navigation">
                    <a href="javascript:void(0)" onclick="showSection('work')" class="nav-link">← Return</a>
                    <a href="javascript:void(0)" onclick="nextProject()" class="nav-link">Next Project →</a>
                </div>
            </aside>
            <div class="detail-gallery">
                <div class="main-image-container">
                    <img id="featured-watermelon" src="./assets/images/watermelon/watermelon-1.png" onclick="openLightbox(this)" alt="Watermelon 1">
                </div>
                <div class="thumbnail-rail">
                    <img src="./assets/images/watermelon/watermelon-1.png" onmouseover="updateFeatured('watermelon', this.src)" onclick="updateFeatured('watermelon', this.src)">
                    <img src="./assets/images/watermelon/watermelon-2.png" onmouseover="updateFeatured('watermelon', this.src)" onclick="updateFeatured('watermelon', this.src)">
                    <img src="./assets/images/watermelon/watermelon-3.png" onmouseover="updateFeatured('watermelon', this.src)" onclick="updateFeatured('watermelon', this.src)">
                    <img src="./assets/images/watermelon/watermelon-4.png" onmouseover="updateFeatured('watermelon', this.src)" onclick="updateFeatured('watermelon', this.src)">
                    <img src="./assets/images/watermelon/watermelon-5.png" onmouseover="updateFeatured('watermelon', this.src)" onclick="updateFeatured('watermelon', this.src)">
                    <img src="./assets/images/watermelon/watermelon-6.png" onmouseover="updateFeatured('watermelon', this.src)" onclick="updateFeatured('watermelon', this.src)">
                </div>
            </div>
        </div>
    </section>

    <section id="calico" class="page-section">
        <div class="project-detail-container">
            <aside class="detail-sidebar">
                <h1 class="serif-italic">Calico</h1>
                <p class="category">Creation</p>
                <div class="detail-description">
                    <p class="description-lead">Full brand creation and website build.</p>
                    <p>A visual identity defined by vibrant colors, aesthetic fonts, and a casual, approachable tone.</p>
                </div>
                <div class="detail-specs">
                    <div class="spec-item"><span>Role</span><span>Creative Lead</span></div>
                    <div class="spec-item"><span>Skills</span><span>Branding, Graphic Design</span></div>
                    <div class="spec-item"><span>More</span><span><a href="https://www.calicoservices.com" target="_blank">Visit Site</a></span></div>
                </div>
                <div class="detail-navigation">
                    <a href="javascript:void(0)" onclick="showSection('work')" class="nav-link">← Return</a>
                    <a href="javascript:void(0)" onclick="nextProject()" class="nav-link">Next Project →</a>
                </div>
            </aside>
            <div class="detail-gallery">
                <div class="main-image-container">
                    <img id="featured-calico" src="./assets/images/calico/calico-1.png" onclick="openLightbox(this)" alt="Calico 1">
                </div>
                <div class="thumbnail-rail">
                    <img src="./assets/images/calico/calico-1.png" onmouseover="updateFeatured('calico', this.src)" onclick="updateFeatured('calico', this.src)">
                    <img src="./assets/images/calico/calico-2.png" onmouseover="updateFeatured('calico', this.src)" onclick="updateFeatured('calico', this.src)">
                    <img src="./assets/images/calico/calico-3.png" onmouseover="updateFeatured('calico', this.src)" onclick="updateFeatured('calico', this.src)">
                    <img src="./assets/images/calico/calico-4.png" onmouseover="updateFeatured('calico', this.src)" onclick="updateFeatured('calico', this.src)">
                    <img src="./assets/images/calico/calico-5.png" onmouseover="updateFeatured('calico', this.src)" onclick="updateFeatured('calico', this.src)">
                    <img src="./assets/images/calico/calico-6.png" onmouseover="updateFeatured('calico', this.src)" onclick="updateFeatured('calico', this.src)">
                </div>
            </div>
        </div>
    </section>

    <section id="canvas" class="page-section">
        <div class="project-detail-container">
            <aside class="detail-sidebar">
                <h1 class="serif-italic">Canvas</h1>
                <p class="category">Software Build</p>
                <div class="detail-description">
                    <p class="description-lead">Full bespoke build of our software platform.</p>
                    <p>I was responsible for all front-end design, UI, UX, and brand direction for this highly functional platform.</p>
                </div>
                <div class="detail-specs">
                    <div class="spec-item"><span>Role</span><span>Creative Front End Developer</span></div>
                    <div class="spec-item"><span>Skills</span><span>Vue.js, HTML, CSS, Figma</span></div>
                </div>
                <div class="detail-navigation">
                    <a href="javascript:void(0)" onclick="showSection('work')" class="nav-link">← Return</a>
                    <a href="javascript:void(0)" onclick="nextProject()" class="nav-link">Next Project →</a>
                </div>
            </aside>
            <div class="detail-gallery">
                <div class="main-image-container">
                    <img id="featured-canvas" src="./assets/images/canvas/canvas-1.png" onclick="openLightbox(this)" alt="Canvas 1">
                </div>
                <div class="thumbnail-rail">
                    <img src="./assets/images/canvas/canvas-1.png" onmouseover="updateFeatured('canvas', this.src)" onclick="updateFeatured('canvas', this.src)">
                    <img src="./assets/images/canvas/canvas-2.png" onmouseover="updateFeatured('canvas', this.src)" onclick="updateFeatured('canvas', this.src)">
                    <img src="./assets/images/canvas/canvas-3.png" onmouseover="updateFeatured('canvas', this.src)" onclick="updateFeatured('canvas', this.src)">
                    <img src="./assets/images/canvas/canvas-4.png" onmouseover="updateFeatured('canvas', this.src)" onclick="updateFeatured('canvas', this.src)">
                    <img src="./assets/images/canvas/canvas-5.png" onmouseover="updateFeatured('canvas', this.src)" onclick="updateFeatured('canvas', this.src)">
                    <img src="./assets/images/canvas/canvas-6.png" onmouseover="updateFeatured('canvas', this.src)" onclick="updateFeatured('canvas', this.src)">
                </div>
            </div>
        </div>
    </section>

    <section id="design" class="page-section">
        <div class="project-detail-container">
            <aside class="detail-sidebar">
                <h1 class="serif-italic">Design</h1>
                <p class="category">Ad-Hoc</p>
                <div class="detail-description">
                    <p class="description-lead">Design work</p>
                    <p>A collection of print, graphic, and digital design experiments.</p>
                </div>
                <div class="detail-navigation">
                    <a href="javascript:void(0)" onclick="showSection('work')" class="nav-link">← Return</a>
                    <a href="javascript:void(0)" onclick="nextProject()" class="nav-link">Next Project →</a>
                </div>
            </aside>
            <div class="detail-gallery">
                <div class="main-image-container">
                    <img id="featured-design" src="./assets/images/design/design-1.png" onclick="openLightbox(this)" alt="Design 1">
                </div>
                <div class="thumbnail-rail">
                    <img src="./assets/images/design/design-1.png" onmouseover="updateFeatured('design', this.src)" onclick="updateFeatured('design', this.src)">
                    <img src="./assets/images/design/design-2.png" onmouseover="updateFeatured('design', this.src)" onclick="updateFeatured('design', this.src)">
                    <img src="./assets/images/design/design-3.png" onmouseover="updateFeatured('design', this.src)" onclick="updateFeatured('design', this.src)">
                    <img src="./assets/images/design/design-4.png" onmouseover="updateFeatured('design', this.src)" onclick="updateFeatured('design', this.src)">
                    <img src="./assets/images/design/design-5.png" onmouseover="updateFeatured('design', this.src)" onclick="updateFeatured('design', this.src)">
                </div>
            </div>
        </div>
    </section>

    <section id="board" class="page-section">
        <div class="project-detail-container">
            <aside class="detail-sidebar">
                <h1 class="serif-italic">Board</h1>
                <p class="category">Curation</p>
                <div class="detail-description">
                    <p class="description-lead">Print and Photography</p>
                    <p>Visual curation and photography studies.</p>
                </div>
                <div class="detail-navigation">
                    <a href="javascript:void(0)" onclick="showSection('work')" class="nav-link">← Return</a>
                    <a href="javascript:void(0)" onclick="nextProject()" class="nav-link">Next Project →</a>
                </div>
            </aside>
            <div class="detail-gallery">
                <div class="main-image-container">
                    <img id="featured-board" src="./assets/images/inspiration/inspiration-1.png" onclick="openLightbox(this)" alt="Board 1">
                </div>
                <div class="thumbnail-rail">
                    <img src="./assets/images/inspiration/inspiration-1.png" onmouseover="updateFeatured('board', this.src)" onclick="updateFeatured('board', this.src)">
                    <img src="./assets/images/inspiration/inspiration-2.png" onmouseover="updateFeatured('board', this.src)" onclick="updateFeatured('board', this.src)">
                    <img src="./assets/images/inspiration/inspiration-3.png" onmouseover="updateFeatured('board', this.src)" onclick="updateFeatured('board', this.src)">
                    <img src="./assets/images/inspiration/inspiration-4.png" onmouseover="updateFeatured('board', this.src)" onclick="updateFeatured('board', this.src)">
                    <img src="./assets/images/inspiration/inspiration-5.png" onmouseover="updateFeatured('board', this.src)" onclick="updateFeatured('board', this.src)">
                    <img src="./assets/images/inspiration/inspiration-6.png" onmouseover="updateFeatured('board', this.src)" onclick="updateFeatured('board', this.src)">
                    <img src="./assets/images/inspiration/inspiration-7.png" onmouseover="updateFeatured('board', this.src)" onclick="updateFeatured('board', this.src)">
                </div>
            </div>
        </div>
    </section>

    <section id="about" class="page-section">...</section>
    <section id="contact" class="page-section">...</section>
</main>

<script>
    const projectOrder = ['work', 'watermelon', 'calico', 'canvas', 'design', 'board'];
    let currentProjectIndex = 0;

    // Nike-Style Image Swap Function
    function updateFeatured(projectId, newSrc) {
        const featuredImg = document.getElementById(`featured-${projectId}`);
        if (featuredImg && featuredImg.src !== newSrc) {
            featuredImg.style.opacity = '0.7';
            setTimeout(() => {
                featuredImg.src = newSrc;
                featuredImg.style.opacity = '1';
            }, 100);
        }
    }

    // Core Navigation
    function showSection(sectionId) {
        document.querySelectorAll('.page-section').forEach(sec => sec.classList.remove('active-section'));
        const target = document.getElementById(sectionId);
        if(target) target.classList.add('active-section');
        
        document.querySelectorAll('.nav-links a').forEach(link => link.classList.remove('active'));
        if(['work', 'about', 'contact'].includes(sectionId)) {
            const navLink = document.getElementById('link-' + sectionId);
            if(navLink) navLink.classList.add('active');
        }

        const index = projectOrder.indexOf(sectionId);
        if (index !== -1) currentProjectIndex = index;
        window.scrollTo(0, 0);
    }

    function nextProject() {
        const nextIndex = (currentProjectIndex + 1) % projectOrder.length;
        if (projectOrder[nextIndex] === 'work') { // Skip home if cycling
             showSection(projectOrder[nextIndex + 1]);
        } else {
             showSection(projectOrder[nextIndex]);
        }
    }

    function toggleMenu() { document.body.classList.toggle('mobile-menu-open'); }
    function handleNav(sectionId) { document.body.classList.remove('mobile-menu-open'); showSection(sectionId); }

    // Lightbox Logic (Now grabs images from the rail of the active section)
    let currentGalleryImages = [];
    let currentImageIndex = 0;

    function openLightbox(clickedImg) {
        const section = clickedImg.closest('.page-section');
        // We get images from the thumbnail rail to ensure we have the whole gallery set
        currentGalleryImages = Array.from(section.querySelectorAll('.thumbnail-rail img')).map(img => img.src);
        currentImageIndex = currentGalleryImages.indexOf(clickedImg.src);
        
        // If the main image was clicked but wasn't in the rail (fallback)
        if (currentImageIndex === -1) currentImageIndex = 0;

        updateLightbox();
        document.getElementById('lightbox').classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function changeImage(direction) {
        currentImageIndex += direction;
        if (currentImageIndex >= currentGalleryImages.length) currentImageIndex = 0;
        if (currentImageIndex < 0) currentImageIndex = currentGalleryImages.length - 1;
        updateLightbox();
    }

    function updateLightbox() {
        const imgElement = document.getElementById('lightbox-img');
        const counterElement = document.getElementById('lightbox-counter');
        imgElement.src = currentGalleryImages[currentImageIndex];
        counterElement.innerText = `${String(currentImageIndex + 1).padStart(2, '0')} / ${String(currentGalleryImages.length).padStart(2, '0')}`;
    }

    function closeLightbox() {
        document.getElementById('lightbox').classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    // Keyboard & Swipe Support (Simplified)
    document.addEventListener('keydown', (e) => {
        if (!document.getElementById('lightbox').classList.contains('active')) return;
        if (e.key === "ArrowRight") changeImage(1);
        if (e.key === "ArrowLeft") changeImage(-1);
        if (e.key === "Escape") closeLightbox();
    });

    // Close on background click
    document.getElementById('lightbox').addEventListener('click', function(e) {
        if (e.target === this) closeLightbox();
    });
</script>
